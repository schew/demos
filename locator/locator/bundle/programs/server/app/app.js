(function(){Locations = new Mongo.Collection("locations");
Comments = new Mongo.Collection("comments");

if (Meteor.isClient) {
	angular.module('locator', ['angular-meteor', 'ui.router']);

	angular.module('locator').config(["$urlRouterProvider", "$stateProvider", "$locationProvider", function ($urlRouterProvider, $stateProvider, $locationProvider) {
		$locationProvider.html5Mode(true);

		$stateProvider.state('locations', {
			url: '/',
			template: '<location-list></location-list><comment-list></comment-list>'
		}).state('update', {
			url: '/update',
			template: '<edit-location></edit-location>'
		});

		$urlRouterProvider.otherwise("/");
	}]);

	angular.module('locator').directive('locationList', function () {
		return {
			restrict: 'E',
			templateUrl: 'location-list.html',
			controllerAs: 'locationList',
			controller: ["$scope", "$reactive", function controller($scope, $reactive) {
				$reactive(this).attach($scope);

				this.helpers({
					locations: function locations() {
						return Locations.find({});
					}
				});

				this.removeLocation = function (location) {
					Locations.remove({ _id: location._id });
				};
			}]
		};
	});

	angular.module('locator').directive('editLocation', function () {
		return {
			restrict: 'E',
			templateUrl: 'edit-location.html',
			controllerAs: 'editLocation',
			controller: ["$scope", "$reactive", function controller($scope, $reactive) {
				var _this = this;

				$reactive(this).attach($scope);

				this.newLocation = {};

				this.helpers({
					locations: function locations() {
						return Locations.find({});
					},
					comments: function comments() {
						return Comments.find({});
					}
				});

				this.removeLocation = function (location) {
					Locations.remove({ _id: location._id });
				};

				this.addLocation = function () {
					Locations.insert(_this.newLocation);
					_this.newLocation = {};
				};

				this.removeComment = function (comment) {
					Comments.remove({ _id: comment._id });
				};
			}]
		};
	});

	angular.module('locator').directive('commentList', function () {
		return {
			restrict: 'E',
			templateUrl: 'comment-list.html',
			controllerAs: 'commentList',
			controller: ["$scope", "$reactive", function controller($scope, $reactive) {
				var _this2 = this;

				var counter = 1;

				$reactive(this).attach($scope);

				this.newComment = {};
				if (counter % 3 === 1) {
					this.newComment.color = "#DA0600";
				} else {
					if (counter % 3 === 2) {
						this.newComment.color = "#2EACB2";
					} else {
						this.newComment.color = "#85CB00";
					}
				}
				counter++;

				this.helpers({
					comments: function comments() {
						return Comments.find({});
					}
				});

				this.addComment = function () {
					Comments.insert(_this2.newComment);
					_this2.newComment = {};
					// Change color
					if (counter % 3 === 1) {
						_this2.newComment.color = "#DA0600";
					} else {
						if (counter % 3 === 2) {
							_this2.newComment.color = "#2EACB2";
						} else {
							_this2.newComment.color = "#85CB00";
						}
					}
					counter++;
				};
			}]
		};
	});
}
//# sourceMappingURL=data:application/json;base64,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OztBQUVILFFBQUksQ0FBQyxVQUFVLEdBQUcsWUFBTTtBQUN2QixhQUFRLENBQUMsTUFBTSxDQUFDLE9BQUssVUFBVSxDQUFDLENBQUM7QUFDakMsWUFBSyxVQUFVLEdBQUcsRUFBRSxDQUFDOztBQUVyQixTQUFJLE9BQU8sR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ3RCLGFBQUssVUFBVSxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUM7TUFDbEMsTUFBTTtBQUNOLFVBQUksT0FBTyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDdEIsY0FBSyxVQUFVLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztPQUNsQyxNQUFNO0FBQ04sY0FBSyxVQUFVLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztPQUNsQztNQUNEO0FBQ0QsWUFBTyxFQUFFLENBQUM7S0FDVixDQUFDO0lBQ0Y7R0FDRCxDQUFBO0VBQ0QsQ0FBQyxDQUFDO0NBQ0giLCJmaWxlIjoiL2FwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIkxvY2F0aW9ucyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKFwibG9jYXRpb25zXCIpO1xyXG5Db21tZW50cyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKFwiY29tbWVudHNcIik7XHJcblxyXG5pZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XHJcblx0YW5ndWxhci5tb2R1bGUoJ2xvY2F0b3InLCBbJ2FuZ3VsYXItbWV0ZW9yJywgJ3VpLnJvdXRlciddKTtcclxuXHJcblx0YW5ndWxhci5tb2R1bGUoJ2xvY2F0b3InKS5jb25maWcoZnVuY3Rpb24oJHVybFJvdXRlclByb3ZpZGVyLCAkc3RhdGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuXHRcdCRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuXHJcblx0XHQkc3RhdGVQcm92aWRlclxyXG5cdFx0XHQuc3RhdGUoJ2xvY2F0aW9ucycsIHtcclxuXHRcdFx0XHR1cmw6ICcvJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZTogJzxsb2NhdGlvbi1saXN0PjwvbG9jYXRpb24tbGlzdD48Y29tbWVudC1saXN0PjwvY29tbWVudC1saXN0PidcclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCd1cGRhdGUnLCB7XHJcblx0XHRcdFx0dXJsOiAnL3VwZGF0ZScsXHJcblx0XHRcdFx0dGVtcGxhdGU6ICc8ZWRpdC1sb2NhdGlvbj48L2VkaXQtbG9jYXRpb24+J1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKFwiL1wiKTtcclxuXHR9KVxyXG5cclxuXHRhbmd1bGFyLm1vZHVsZSgnbG9jYXRvcicpLmRpcmVjdGl2ZSgnbG9jYXRpb25MaXN0JywgZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0UnLFxyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ2xvY2F0aW9uLWxpc3QuaHRtbCcsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ2xvY2F0aW9uTGlzdCcsXHJcblx0XHRcdGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzY29wZSwgJHJlYWN0aXZlKSB7XHJcblx0XHRcdFx0JHJlYWN0aXZlKHRoaXMpLmF0dGFjaCgkc2NvcGUpO1xyXG5cclxuXHRcdFx0XHR0aGlzLmhlbHBlcnMoe1xyXG5cdFx0XHRcdFx0bG9jYXRpb25zOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBMb2NhdGlvbnMuZmluZCh7fSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdHRoaXMucmVtb3ZlTG9jYXRpb24gPSAobG9jYXRpb24pID0+IHtcclxuXHRcdFx0XHRcdExvY2F0aW9ucy5yZW1vdmUoe19pZDogbG9jYXRpb24uX2lkfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGFuZ3VsYXIubW9kdWxlKCdsb2NhdG9yJykuZGlyZWN0aXZlKCdlZGl0TG9jYXRpb24nLCBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnRScsXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnZWRpdC1sb2NhdGlvbi5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAnZWRpdExvY2F0aW9uJyxcclxuXHRcdFx0Y29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCAkcmVhY3RpdmUpIHtcclxuXHRcdFx0XHQkcmVhY3RpdmUodGhpcykuYXR0YWNoKCRzY29wZSk7XHJcblxyXG5cdFx0XHRcdHRoaXMubmV3TG9jYXRpb24gPSB7fTtcclxuXHJcblx0XHRcdFx0dGhpcy5oZWxwZXJzKHtcclxuXHRcdFx0XHRcdGxvY2F0aW9uczogKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gTG9jYXRpb25zLmZpbmQoe30pO1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdGNvbW1lbnRzOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBDb21tZW50cy5maW5kKHt9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0dGhpcy5yZW1vdmVMb2NhdGlvbiA9IChsb2NhdGlvbikgPT4ge1xyXG5cdFx0XHRcdFx0TG9jYXRpb25zLnJlbW92ZSh7X2lkOiBsb2NhdGlvbi5faWR9KTtcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHR0aGlzLmFkZExvY2F0aW9uID0gKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRMb2NhdGlvbnMuaW5zZXJ0KHRoaXMubmV3TG9jYXRpb24pO1xyXG5cdFx0XHRcdFx0XHR0aGlzLm5ld0xvY2F0aW9uID0ge307XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0dGhpcy5yZW1vdmVDb21tZW50ID0gKGNvbW1lbnQpID0+IHtcclxuXHRcdFx0XHRcdENvbW1lbnRzLnJlbW92ZSh7X2lkOiBjb21tZW50Ll9pZH0pO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0YW5ndWxhci5tb2R1bGUoJ2xvY2F0b3InKS5kaXJlY3RpdmUoJ2NvbW1lbnRMaXN0JywgZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0UnLFxyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ2NvbW1lbnQtbGlzdC5odG1sJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAnY29tbWVudExpc3QnLFxyXG5cdFx0XHRjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsICRyZWFjdGl2ZSkge1xyXG5cdFx0XHRcdHZhciBjb3VudGVyID0gMTtcclxuXHJcblx0XHRcdFx0JHJlYWN0aXZlKHRoaXMpLmF0dGFjaCgkc2NvcGUpO1xyXG5cclxuXHRcdFx0XHR0aGlzLm5ld0NvbW1lbnQgPSB7fTtcclxuXHRcdFx0XHRpZiAoY291bnRlciAlIDMgPT09IDEpIHtcclxuXHRcdFx0XHRcdHRoaXMubmV3Q29tbWVudC5jb2xvciA9IFwiI0RBMDYwMFwiO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRpZiAoY291bnRlciAlIDMgPT09IDIpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5uZXdDb21tZW50LmNvbG9yID0gXCIjMkVBQ0IyXCI7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR0aGlzLm5ld0NvbW1lbnQuY29sb3IgPSBcIiM4NUNCMDBcIjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Y291bnRlcisrO1xyXG5cclxuXHJcblx0XHRcdFx0dGhpcy5oZWxwZXJzKHtcclxuXHRcdFx0XHRcdGNvbW1lbnRzOiAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBDb21tZW50cy5maW5kKHt9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0dGhpcy5hZGRDb21tZW50ID0gKCkgPT4ge1xyXG5cdFx0XHRcdFx0Q29tbWVudHMuaW5zZXJ0KHRoaXMubmV3Q29tbWVudCk7XHJcblx0XHRcdFx0XHR0aGlzLm5ld0NvbW1lbnQgPSB7fTtcclxuXHRcdFx0XHRcdC8vIENoYW5nZSBjb2xvclxyXG5cdFx0XHRcdFx0aWYgKGNvdW50ZXIgJSAzID09PSAxKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMubmV3Q29tbWVudC5jb2xvciA9IFwiI0RBMDYwMFwiO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0aWYgKGNvdW50ZXIgJSAzID09PSAyKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5uZXdDb21tZW50LmNvbG9yID0gXCIjMkVBQ0IyXCI7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5uZXdDb21tZW50LmNvbG9yID0gXCIjODVDQjAwXCI7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNvdW50ZXIrKztcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcbn0iXX0=
}).call(this);

//# sourceMappingURL=app.js.map
